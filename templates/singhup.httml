{% extends "base.html.j2" %}
{% block title %}Sign Up - CuraVie{% endblock %}
{% block content %}

<body data-page="signup" data-section="signup">
  <!-- Header -->
  <header class="header">
    <div class="header-container">
      <div class="logo">
        <div class="logo-icon">🏥</div>
        <span class="logo-text">DHRMS</span>
      </div>
      <nav class="nav">
        <a href="{{ url_for('home') }}" class="nav-link">🏠 CuraVie</a>
        <a href="#" class="nav-link">📄 Records</a>
        <a href="#" class="nav-link">🏥 Hospitals</a>
      </nav>
      <div class="header-actions">
        <div class="language-switcher">
          <span>🌐</span>
          <select id="language-select">
            <option value="en">English</option>
            <option value="hi">हिंदी</option>
            <option value="ml">മലയാളം</option>
            <option value="ta">தமிழ்</option>
          </select>
        </div>
        <a href="{{ url_for('login') }}" class="btn btn-secondary">🔑 Sign In</a>
        <button class="mobile-menu-toggle" id="mobile-menu-toggle">☰</button>
      </div>
    </div>
    <nav class="mobile-nav" id="mobile-nav">
      <div class="nav">
        <a href="{{ url_for('home') }}" class="nav-link">🏠 Home</a>
        <a href="#" class="nav-link">📄 Records</a>
        <a href="#" class="nav-link">🏥 Hospitals</a>
        <a href="{{ url_for('login') }}" class="nav-link">🔑 Sign In</a>
      </div>
    </nav>
  </header>

  <!-- Sign Up Section -->
  <main class="signup-container">
    <div class="signup-card">
      <div class="signup-header">
        <div class="signup-logo">
          <div class="logo-icon">🏥</div>
          <h1>Create Account</h1>
        </div>
        <p class="signup-subtitle">Join DHRMS to manage your health records</p>
      </div>

      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="flash-group">
            {% for category, message in messages %}
              <div class="flash flash-{{ category }}">{{ message }}</div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <form id="signupForm" class="signup-form" method="POST" action="{{ url_for('signup') }}" autocomplete="off" novalidate>
        {{ form.hidden_tag() }}

        <div class="form-group">
          <label for="{{ form.username.id }}">USERNAME</label>
          {{ form.username(class="input", placeholder="Choose a username") }}
          {% for e in form.username.errors %}<div class="error">{{ e }}</div>{% endfor %}
        </div>

        <div class="form-group">
          <label for="{{ form.email.id }}">EMAIL ADDRESS</label>
          {{ form.email(class="input", placeholder="Enter your email") }}
          {% for e in form.email.errors %}<div class="error">{{ e }}</div>{% endfor %}
        </div>

        <div class="form-group">
          <label for="{{ form.password.id }}">PASSWORD</label>
          {{ form.password(class="input", placeholder="Create a strong password") }}
          {% for e in form.password.errors %}<div class="error">{{ e }}</div>{% endfor %}
        </div>

        <div class="form-group">
          <label for="{{ form.confirm_password.id }}">CONFIRM PASSWORD</label>
          {{ form.confirm_password(class="input", placeholder="Confirm your password") }}
          {% for e in form.confirm_password.errors %}<div class="error">{{ e }}</div>{% endfor %}
        </div>

        <div class="form-options">
          <label class="checkbox-container">
            {{ form.terms() }}
            <span class="checkmark"></span>
            I agree to the
            <a href="#terms" class="link">Terms of Service</a> and
            <a href="#privacy" class="link">Privacy Policy</a>
          </label>
          {% for e in form.terms.errors %}<div class="error">{{ e }}</div>{% endfor %}
        </div>

        {{ form.submit(class="btn btn-primary btn-full", value="📝 CREATE ACCOUNT") }}

        {# <div class="signup-divider"><span>or</span></div> #}

        {# <div class="social-signup">
          <button type="button" class="btn btn-social"><span>📧</span> Sign up with Email</button>
          <button type="button" class="btn btn-social"><span>📱</span> Sign up with Phone</button>
        </div> #}

        <div class="signup-footer">
          <p>
            Already have an account?
            <a href="{{ url_for('login') }}" class="link">Sign in here</a>
          </p>
        </div>
      </form>
    </div>

    <!-- Keep your SVG illustration as-is -->
    <div class="signup-illustration">
      <div class="healthcare-image-container">
        <!-- (SVG content unchanged) -->
      </div>
    </div>
  </main>

  <script src="{{ url_for('static', filename='scripts.js') }}"></script>
</body>
{% endblock %}
